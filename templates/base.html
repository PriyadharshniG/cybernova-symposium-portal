<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CYBERNOVA 2026 | National Level Technical Symposium</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Outfit:wght@400;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>

    <!-- Background Animation -->
    <div class="bg-animation">
        <div class="bg-orb orb-1"></div>
        <div class="bg-orb orb-2"></div>
        <div class="bg-orb orb-3"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container nav-content">
            <a href="{{ url_for('main.index') }}" class="nav-logo">
                CYBER<span style="color:var(--neon-cyan)">NOVA</span>
            </a>

            <div class="nav-links">
                <a href="{{ url_for('main.index') }}#home">Home</a>
                <a href="{{ url_for('main.index') }}#about">About</a>
                <a href="{{ url_for('main.index') }}#events">Events</a>

                <a href="{{ url_for('main.announcements') }}">Updates</a>
                <a href="{{ url_for('user.portal') }}">Login</a>
                <a href="{{ url_for('main.sponsors') }}">Sponsors</a>
                <a href="{{ url_for('admin.login') }}">Admin</a>
                <button id="theme-toggle" class="btn-theme" title="Toggle Theme">
                    <i data-lucide="moon" class="moon-icon"></i>
                    <i data-lucide="sun" class="sun-icon" style="display:none;"></i>
                </button>
            </div>

            <a href="{{ url_for('user.register') }}" class="nav-btn">Register Now</a>
        </div>
    </nav>

    <!-- Flash Messages -->
    <div class="flash-messages">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="flash-msg">{{ message }}</div>
        {% endfor %}
        {% endif %}
        {% endwith %}
    </div>

    <!-- Main Content -->
    {% block content %}{% endblock %}

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2026 CYBERNOVA Symposium. All rights reserved.</p>
            <p style="font-size: 0.8rem; margin-top: 10px; opacity: 0.6;">
                Organized by Department of Computer Science & Engineering
            </p>
        </div>
    </footer>

    <script>
        // Lucide icons
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
        });

        // Theme Toggle Logic
        const themeToggle = document.getElementById('theme-toggle');
        const moonIcon = document.querySelector('.moon-icon');
        const sunIcon = document.querySelector('.sun-icon');

        const currentTheme = localStorage.getItem('theme') || 'dark';
        document.documentElement.setAttribute('data-theme', currentTheme);
        updateThemeIcons(currentTheme);

        themeToggle.addEventListener('click', () => {
            const newTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcons(newTheme);
        });

        function updateThemeIcons(theme) {
            if (theme === 'dark') {
                moonIcon.style.display = 'none';
                sunIcon.style.display = 'block';
            } else {
                moonIcon.style.display = 'block';
                sunIcon.style.display = 'none';
            }
        }

        // Remove flash messages after 3 seconds
        setTimeout(() => {
            const flashes = document.querySelectorAll('.flash-msg');
            flashes.forEach(flash => {
                flash.style.opacity = '0';
                setTimeout(() => flash.remove(), 500);
            });
        }, 3000);
    </script>
    {% include 'chatbot.html' %}
</body>

</html>