{% extends "base.html" %}

{% block content %}
<div style="padding-top: 80px;">
    <!-- Hero / Poster Section -->
    <div
        style="height: 60vh; position: relative; overflow: hidden; display: flex; align-items: flex-end; padding-bottom: 4rem;">
        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;">
            <!-- Fallback if no image -->
            <div style="background: linear-gradient(45deg, var(--bg-dark), #1a1a4a); width: 100%; height: 100%;"></div>
            <!-- TODO: Add actual image tag here when generated -->
            <!-- <img src="{{ url_for('static', filename='img/' + event.poster) }}" style="width: 100%; height: 100%; object-fit: cover; opacity: 0.6;"> -->
            <div
                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to top, var(--bg-dark), transparent);">
            </div>
        </div>

        <div class="container" style="position: relative; z-index: 2;">
            <a href="{{ url_for('index') }}#events"
                style="display: inline-flex; align-items: center; gap: 5px; color: var(--text-secondary); margin-bottom: 1rem; text-decoration: none;">
                <i data-lucide="arrow-left" style="width: 16px;"></i> Back to Events
            </a>
            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 1rem;">
                <span
                    style="padding: 5px 15px; border: 1px solid var(--neon-cyan); border-radius: 20px; color: var(--neon-cyan); font-size: 0.8rem; text-transform: uppercase;">{{
                    event.category }}</span>
            </div>
            <h1 style="font-size: 4rem; line-height: 1.1; margin-bottom: 1rem;">
                {{ event.name }}
            </h1>
            <p style="font-size: 1.5rem; color: var(--text-secondary); max-width: 700px;">
                {{ event.tagline }}
            </p>
        </div>
    </div>

    <!-- Content Section -->
    <div class="container" style="margin-bottom: 4rem; display: grid; grid-template-columns: 2fr 1fr; gap: 4rem;">

        <!-- Left Column: Details -->
        <div>
            <div class="glass-panel" style="margin-bottom: 2rem;">
                <h2 style="margin-bottom: 1.5rem; display: flex; align-items: center; gap: 10px;">
                    <i data-lucide="info" style="color: var(--neon-purple);"></i> About the Event
                </h2>
                <p style="font-size: 1.1rem; color: #d0d0ff; line-height: 1.8;">
                    {{ event.description }}
                </p>
            </div>

            <div class="glass-panel">
                <h2 style="margin-bottom: 1.5rem; display: flex; align-items: center; gap: 10px;">
                    <i data-lucide="list-checks" style="color: var(--neon-pink);"></i> Rules & Format
                </h2>
                <ul style="list-style: none;">
                    {% for rule in event.rules %}
                    <li style="margin-bottom: 1rem; padding-left: 25px; position: relative;">
                        <i data-lucide="check"
                            style="width: 16px; position: absolute; left: 0; top: 5px; color: var(--neon-cyan);"></i>
                        {{ rule }}
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <!-- Right Column: Sidebar -->
        <div style="position: sticky; top: 100px; height: fit-content;">
            <div class="glass-panel" style="text-align: center;">
                <h3 style="margin-bottom: 1.5rem;">Ready to Participate?</h3>

                <div style="margin-bottom: 2rem; text-align: left;">
                    <h4 style="font-size: 1rem; color: var(--text-secondary); margin-bottom: 10px;">Skills You'll Gain
                    </h4>
                    <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                        {% for skill in event.skills %}
                        <span
                            style="background: rgba(255,255,255,0.1); padding: 5px 10px; border-radius: 5px; font-size: 0.9rem;">
                            {{ skill }}
                        </span>
                        {% endfor %}
                    </div>
                </div>

                <div style="margin-bottom: 2rem; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 10px;">
                    <p style="font-size: 0.9rem; color: var(--text-secondary);">Organized by</p>
                    <p style="font-weight: 600; font-size: 1.1rem; margin-top: 5px;">VGLUG Foundation</p>
                </div>

                <a href="{{ url_for('register') }}?event={{ event.id }}" class="btn-primary"
                    style="width: 100%; display: block; text-align: center;">
                    Register Now
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}